from langdetect import detectfrom application import translator, loggerfrom flask import Blueprint, request, jsonifyfrom application.rests.elasticsearch import searchbp_elasticsearch = Blueprint("bp_elasticsearch", __name__,                             url_prefix="/elasticsearch")@bp_elasticsearch.route("/search/publication", methods=["GET"])def search_publication():    text = request.args["text"]    lang = detect(text)    text = text.replace("\n", "").replace("\r", "")    if lang != "en":        text = translator.translate(text, dest="en").text    result = search("publication", text)    return jsonify(result)